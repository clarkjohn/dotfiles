" keymap
" - debug
" alt+up    = Drop Frame 
" alt+right = Smart Step into
" alt+down  = Step over
" alt+left  = Resume

" - windows
" ctrl+pageup   = Goto Next Splitter
" ctrl+pagedown = Goto Previous Splitter
" ctrl+\        = Split Vertically
" ctrl+-        = Split Horizontally
" ctrl+delete   = unsplit

" - tabs
" alt+pageup   = Select Next Tab
" alt+pagedown = Select Previous Tab
" alt+delete   = (editor tab) Close 
" alt+end      = (editor tab) Close Others 

set number
set incsearch hlsearch
set ignorecase smartcase
set clipboard=unnamed
set scrolloff=5
set showmode
set surround

" Integrate with system clipboard
set clipboard=unnamedplus,unnamed

let mapleader = ","
let g:mapleader = ","

" esc in insert mode
inoremap jj <esc>
" esc in command mode
cnoremap jj <C-C>

" Yank from cursor to end of line
nnoremap Y y$

" Movement in insert mode
inoremap <C-h> <C-o>h
inoremap <C-l> <C-o>l
inoremap <C-j> <C-o>j
inoremap <C-k> <C-o>k

" Moving lines up and down
nnoremap <a-j> :m .+1<CR>==
nnoremap <a-k> :m .-2<CR>==
inoremap <a-j> <Esc>:m .+1<CR>==gi
inoremap <a-k> <Esc>:m .-2<CR>==gi
nnoremap <a-j> :m '>+1<CR>gv=gv
nnoremap <a-k> :m '<-2<CR>gv=gv

" format code
nnoremap <leader>fc :action ReformatCode<cr>

" format whitespaces away
nnoremap <leader>fw :%s/\s\+$//<cr>:let @/=''<CR>

" reload
nnoremap <leader>z :source ~/.ideavimrc<cr>

" disable visual mode delete
vnoremap <BS> d

" Intellij only

" common
nnoremap r :<C-u>action RenameElement<CR>

" view
nnoremap <Space>n :action ActivateProjectToolWindow<CR>
nnoremap <Space>z :action HideAllWindows<CR>

" goto
nnoremap gd :<C-u>action GotoDeclaration<CR>

nnoremap gs :<C-u>action GotoSuperMethod<CR>
nnoremap gi :<C-u>action GotoImplementation<CR>
nnoremap gt :<C-u>action GotoTest<CR>
nnoremap gu :<C-u>action ShowUsages<CR>
nnoremap gf :<C-u>action GotoFile<CR>

" tabs
nnoremap <leader>q :action CloseContent<cr>
nnoremap <leader>Q :action ReopenClosedTab<cr>

" run
nnoremap <Space>rd :action Debug<cr>
nnoremap <Space>rr :action Run<cr>
nnoremap <Space>rs :action Stop<cr>

nnoremap <Space>h  :action CallHierarchy<CR>
nnoremap <Space>ll :action LocalHistory.ShowHistory<CR>
nnoremap <Space>i  :action InspectCode<cr>

" version control
nnoremap <Space>vv :action Vcs.Show.Log<cr>
nnoremap <Space>vc :action Compare.LastVersion<cr>
nnoremap <Space>l  :action Vcs.Show.Local.Changes<cr>
nnoremap ]v :action VcsShowNextChangeMarker<CR>
nnoremap [v :action VcsShowPrevChangeMarker<CR>

" debug
nnoremap <Space>b :action ViewBreakpoints<cr>

" bookmarks
nnoremap <Space>m :action ShowBookmarks<CR>
nnoremap ]m :action GotoNextBookmark<CR>
nnoremap [m :action GotoPreviousBookmark<CR>