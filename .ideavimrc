set number
set incsearch hlsearch
set ignorecase smartcase
set clipboard=unnamed
set scrolloff=5
set showmode
set surround

" Integrate with system clipboard
set clipboard=unnamedplus,unnamed

let mapleader = ","
let g:mapleader = ","

" esc in insert mode
inoremap jj <esc>
" esc in command mode
cnoremap jj <C-C>
" fast saving
nmap <leader>w :w!<cr>

" Yank from cursor to end of line
nnoremap Y y$

" Movement in insert mode
inoremap <C-h> <C-o>h
inoremap <C-l> <C-o>l
inoremap <C-j> <C-o>j
inoremap <C-k> <C-o>k

" Moving lines up and down
nnoremap <a-j> :m .+1<CR>==
nnoremap <a-k> :m .-2<CR>==
inoremap <a-j> <Esc>:m .+1<CR>==gi
inoremap <a-k> <Esc>:m .-2<CR>==gi
vnoremap <a-j> :m '>+1<CR>gv=gv
vnoremap <a-k> :m '<-2<CR>gv=gv

" Easier split navigations
nnoremap <C-J> <C-W><C-J>
nnoremap <C-K> <C-W><C-K>
nnoremap <C-L> <C-W><C-L>
nnoremap <C-H> <C-W><C-H>
" toggle line numbers
nnoremap <leader>l :set invnumber<CR>

" format code
nnoremap <leader>fc :action ReformatCode<cr>

" format whitespaces away
nnoremap <leader>fw :%s/\s\+$//<cr>:let @/=''<CR>

" split
nnoremap <leader>\| :vsplit<cr>

" reload
nnoremap <leader>z :source ~/.ideavimrc<cr>

" Intellij only

" common
inoremap ;; <Esc>:action EditorCompleteStatement<CR>
nnoremap r :<C-u>action RenameElement<CR>

" view
nnoremap <Space>n :action ActivateProjectToolWindow<CR>
vnoremap <Space>n :action ActivateProjectToolWindow<CR>
nnoremap <Space>z :action HideAllWindows<CR>
vnoremap <Space>z :action HideAllWindows<CR>

" goto
nnoremap gd :<C-u>action GotoDeclaration<CR>
nnoremap gs :<C-u>action GotoSuperMethod<CR>
nnoremap gi :<C-u>action GotoImplementation<CR>
nnoremap gt :<C-u>action GotoTest<CR>
nnoremap gu :<C-u>action ShowUsages<CR>
nnoremap gf :<C-u>action GotoFile<CR>
nnoremap gb :<C-u>action JumpToLastChange<CR>

" run
nnoremap <Space>rd :action Debug<cr>
nnoremap <Space>rr :action Run<cr>
nnoremap <Space>rs :action Stop<cr>

nnoremap <Space>h :action CallHierarchy<CR>
nnoremap <Space>l :action LocalHistory.ShowHistory<CR>
nnoremap <Space>i :action InspectCode<cr>
nnoremap <Space>e :action SearchEverywhere<cr>

nnoremap ]e :action GotoNextError<CR>
nnoremap [e :action GotoPreviousError<CR>

" version control
nnoremap <Space>vv :action Vcs.Show.Log<cr>
nnoremap <Space>vc :action Compare.LastVersion<cr>
nnoremap <Space>vl :action Vcs.Show.Local.Changes<cr>
nnoremap <Space>vb :action ViewBreakpoints<cr>
nnoremap ]v :action VcsShowNextChangeMarker<CR>
nnoremap [v :action VcsShowPrevChangeMarker<CR>

" bookmarks
nnoremap <Space>b :action ShowBookmarks<CR>
nnoremap ]b :action GotoNextBookmark<CR>
nnoremap [b :action GotoPreviousBookmark<CR>